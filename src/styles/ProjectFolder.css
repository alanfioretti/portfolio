/* ============================================
    Folder (icon + label)
    Used in the Projects and Prototypes grids inside FileExplorer
   ============================================ */

.folder-tile {
    width: 110px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;

    /* Buttons should act like buttons */
    cursor: pointer;
    padding: 0.5rem 0.25rem;
    border: none;
    background: transparent;
    color: inherit;

    border-radius: 6px;

    /* Small but snappy hover animation */
    transition:
        transform 0.12s ease,
        background 0.12s ease,
        box-shadow 0.12s ease;
}

.folder-tile:hover {
    background: rgba(255, 255, 255, 0.04);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

.folder-locked {
    opacity: 0.7;
    filter: saturate(0.85);
}

.folder-locked:hover {
    opacity: 0.9;
    filter: saturate(1);
}

/* Folder emoji or icon */
.folder-icon {
    font-size: 48px;
    line-height: 1;
}

/* Folder label */
.folder-label {
    font-size: 0.9rem;
    color: #9eeaff;
    text-align: center;

    /* Allow long names to wrap instead of blowing layout */
    word-break: break-word;
}

/* ============================================
    Corrupted Folder (icon + label)
    Used in the Prototypes grid
   ============================================ */

.folder-tile.is-corrupted {
    align-self: flex-start;
    --corrupt-x: 90px;
    --corrupt-y: 20px;
    --corrupt-rot: -2deg;

    transform: translate(var(--corrupt-x), var(--corrupt-y)) rotate(var(--corrupt-rot));

    transition: background 0.12s ease, box-shadow 0.12s ease;
}

.folder-tile.is-corrupted:hover {
    animation: corrupted-shiver 0.35s steps(2, end);
}

@keyframes corrupted-shiver {
    0% {
        transform: translate(var(--corrupt-x), var(--corrupt-y)) rotate(var(--corrupt-rot));
    }

    25% {
        transform: translate(calc(var(--corrupt-x) - 1px), calc(var(--corrupt-y) + 1px)) rotate(calc(var(--corrupt-rot) + 0.5deg));
    }

    50% {
        transform: translate(calc(var(--corrupt-x) + 1px), calc(var(--corrupt-y) - 1px)) rotate(calc(var(--corrupt-rot) - 0.5deg));
    }

    100% {
        transform: translate(var(--corrupt-x), var(--corrupt-y)) rotate(var(--corrupt-rot));
    }
}

.folder-tile.is-corrupted:hover .folder-icon {
    animation: icon-glitch 0.4s steps(1, end);
    animation-delay: 120ms;
}

@keyframes icon-glitch {
    0% {
        filter: none;
    }

    90% {
        filter: none;
    }

    92% {
        filter: hue-rotate(20deg) contrast(1.2);
    }

    100% {
        filter: none;
    }
}

.folder-tile.is-corrupted .folder-label {
    color: rgba(150, 190, 210, 0.75);
    transition: color 0.15s ease;
}

.folder-tile.is-corrupted:hover .folder-label {
    color: #cfa5b5;
    transition-delay: 60ms;
}


@media (max-width: 430px) {
    .folder-tile.is-corrupted {
        --corrupt-x: 40px;
        --corrupt-y: 25px;
        --corrupt-rot: -1deg;
    }
}